<template name="SetsList">
  <div class="{{styles.sets_list}}">
    <div>
      {{#if shownItemSets}}
        {{#let sets=shownItemSets}}
          <div class="container-fluid">
            <p class="text-center"><b>{{sets.patchVersion}}</b> - generated at {{> FormatedDate value=sets.generationDate}}</p>
            <div class="row">
              {{#with champsSets=(filterSets sets.sets)}}
                {{#if champsSets}}
                  {{#each itemSet in champsSets.sets}}
                    <div class="{{styles.itemSet}} col-lg-1 col-md-1 col-sm-2 col-xs-2">
                      <a href="{{pathFor route='Build' _param1=(getIdFromObjectId sets._id) _param2=itemSet.index}}" class="{{styles.itemSetLink}}">
                        <span class="{{styles.itemSetRole}}">{{itemSet.set.role}}</span>
                        <div class="{{styles.spriteContainer}}">
                          <div class="{{styles.champSprite}}" style="background-image: url('https://feeder.lol-item-sets-generator.org/sprites/sprite.png?v={{sets.patchVersion}}'); background-position: calc(100% * {{itemSet.championNumber}} / {{champsSets.total}}) 0; background-size: calc(({{champsSets.total}} + 1) * 100%) 100%;"></div>
                        </div>
                      </a>
                    </div>
                  {{/each}}
                {{else}}
                  <div class="text-center">
                    <h1>Nothing :(</h1>
                  </div>
                {{/if}}
              {{/with}}
            </div>
          </div>
        {{/let}}
      {{else}}
        <!-- <div>
          <p class="{{styles.loadingText}} text-center">Loading ...</p>
        </div> -->
        {{> Redirect}}
      {{/if}}
    </div>
  </div>
</template>
